import{a as L,b as l,c as E,d as O}from"./chunk-54JWVCMO.js";import{b as M,c as S}from"./chunk-63RWRTVN.js";import{b as _}from"./chunk-GKTD2TDN.js";import{Ba as p,Ga as d,Ib as h,Lb as v,Nb as y,Ob as C,Pb as w,Qb as r,Rb as o,cc as b,db as a,g as n,h as m,i as u,oc as I,qc as T,rc as x,tb as f,yb as g}from"./chunk-TR6HYK2P.js";function P(c,e){if(c&1&&(r(0,"mat-icon",3,0),T(2),o()),c&2){let i=e.$implicit,t=b();I("visible",t.showIcon()[i.class]),h("cue-key",t.fixClass(i.class)),a(2),x(i.value)}}var s=class s extends E{showIcon=p(Object.fromEntries(this.cues().map(e=>[e.class,!1])));fullWindowLink="/paradigms/motor-imagery/directional/stimuli";normalWindowLink="/paradigms/motor-imagery/directional";startCountdownValue=5;ngOnInit(){return u(this,null,function*(){m(s.prototype,this,"ngOnInit").call(this),yield this.hardwareService.writeLine("CMD=@CLA;"),yield this.hardwareService.writeLine('CMD=@TITLE TEXT="Directional Motor Imagery" COLOR=BLUE SIZE=3;')})}generateCues(){this.cues.set([{class:"Right",value:"arrow_forward"},{class:"Left",value:"arrow_back"},{class:"Up",value:"arrow_upward"},{class:"Down",value:"arrow_downward"}])}generateTrials(){let e=[];for(let i of this.experimentConfig.classes)for(let t=0;t<this.experimentConfig.trials_per_class;t++)e.push([{class:i.split("-")[0].trim(),duration:this.experimentConfig.stimulus_duration,soa:0},{class:i.split("-")[1].trim(),duration:this.experimentConfig.stimulus_duration,soa:this.randomIntInRange(this.experimentConfig.soa)}]);return e=this.shuffle(e),e.flat()}showTrial(e){this.propagateClassMarker(e),this.showIcon.set(Object.fromEntries(this.cues().map(i=>[i.class,i.class===e])))}setOpacity(e,i){let t=this.cuesIconElement.find(D=>D._elementRef.nativeElement.getAttribute("cue-key")===this.fixClass(e));t&&(t._elementRef.nativeElement.style.opacity=i.toString())}stopStimuliSequence(){this.showTrial(null)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=d(s)))(t||s)}})();static \u0275cmp=f({type:s,selectors:[["app-stimuli"]],features:[g],decls:3,vars:1,consts:[["cueElement",""],[3,"hostRef"],[1,"center","cue","conditional-visible",3,"visible"],[1,"center","cue","conditional-visible"]],template:function(i,t){i&1&&(r(0,"app-stimuli-layout",1),y(1,P,3,4,"mat-icon",2,v),o()),i&2&&(w("hostRef",t),a(),C(t.cues()))},dependencies:[S,M,L,_,O],styles:[".cue[_ngcontent-%COMP%]{color:var(--mat-sys-primary);width:1em;height:1em;font-size:40vh}.conditional-visible[_ngcontent-%COMP%]{opacity:0;visibility:hidden;pointer-events:none;transition:opacity .3s ease,font-size .3s ease}.conditional-visible.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;font-size:50vh}"]})};n([l("TRIAL",{arguments:["CLASS"],example:"Trial Right",description:"Highlights the specified class by activating its visual icon while deactivating all others. Useful for indicating the target class during a trial or cue presentation."})],s.prototype,"showTrial",1),n([l("OPACITY",{arguments:["CLASS","VALUE"],example:"OPACITY Right 0.5",description:"Sets the visual opacity of the specified class element. The value should range between 0.0 (fully transparent) and 1.0 (fully opaque)."})],s.prototype,"setOpacity",1);var R=s;export{R as a};
